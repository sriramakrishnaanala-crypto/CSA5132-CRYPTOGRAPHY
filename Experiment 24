#include <stdio.h>

// Extended Euclidean Algorithm
int modInverse(int e, int phi) {
    int t = 0, newt = 1;
    int r = phi, newr = e;

    while(newr != 0) {
        int q = r / newr;

        int temp = newt;
        newt = t - q * newt;
        t = temp;

        temp = newr;
        newr = r - q * newr;
        r = temp;
    }

    if(r > 1) return -1;
    if(t < 0) t += phi;

    return t;
}

int main() {

    int e = 31;
    int p = 59, q = 61;

    int n = p * q;
    int phi = (p-1)*(q-1);

    int d = modInverse(e, phi);

    printf("p = %d\n", p);
    printf("q = %d\n", q);
    printf("phi(n) = %d\n", phi);
    printf("Private key d = %d\n", d);

    return 0;
}
